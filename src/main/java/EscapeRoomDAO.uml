@startuml
left to right direction

' ======== Entities / Beans ========

interface Inventory {
    + getId(): int
    + getName(): String
    + getPrice(): double
}

class EscapeRoom {
    -id: int
    -name: String
    -roomIds: List<Integer>
}

class Room implements Inventory {
    -id: int
    -name: String
    -difficulty: String
    -clueIds: List<Integer>
    -decorationIds: List<Integer>
}

class Clue implements Inventory {
    -id: int
    -name: String
    -price: double
    -theme: String
    -reward: String
}

class Decoration implements Inventory {
    -id: int
    -name: String
    -price: double
    -material: String
    -quantity: int
}

class Player {
    -id: int
    -name: String
}

class Certificate {
    -id: int
    -playerId: int
    -roomId: int
    -achievement: String
}

class Ticket {
    -id: int
    -playerId: int
    -price: double
    -purchaseTime: LocalDateTime
}


' ======== DAO Interfaces ========
interface EscapeRoomDAO
interface RoomDAO
interface ClueDAO
interface DecorationDAO
interface PlayerDAO
interface CertificateDAO
interface TicketDAO

' ======== DAO Implementations ========
class EscapeRoomDAOImpl
class RoomDAOImpl
class ClueDAOImpl
class DecorationDAOImpl
class PlayerDAOImpl
class CertificateDAOImpl
class TicketDAOImpl

EscapeRoomDAO <|.. EscapeRoomDAOImpl
RoomDAO <|.. RoomDAOImpl
ClueDAO <|.. ClueDAOImpl
DecorationDAO <|.. DecorationDAOImpl
PlayerDAO <|.. PlayerDAOImpl
CertificateDAO <|.. CertificateDAOImpl
TicketDAO <|.. TicketDAOImpl


' ======== Services ========
interface InventoryService {
    + findById(id: int): Inventory
    + listAll(): List<Inventory>
}

class EscapeRoomService
class RoomService
class ClueService
class DecorationService
class PlayerService
class CertificateService
class TicketService
class NotificationService

RoomService --> InventoryService
ClueService --> InventoryService
DecorationService --> InventoryService

EscapeRoomService --> EscapeRoomDAO
RoomService --> RoomDAO
ClueService --> ClueDAO
DecorationService --> DecorationDAO
PlayerService --> PlayerDAO
CertificateService --> CertificateDAO
TicketService --> TicketDAO


' ======== Menu & Controller ========
class Menu {
    + showMainMenu(): void
}

class EscapeRoomController {
    + run(): void
}

Menu --> EscapeRoomService
Menu --> RoomService
Menu --> ClueService
Menu --> DecorationService
Menu --> PlayerService
Menu --> CertificateService
Menu --> TicketService
Menu --> NotificationService

EscapeRoomController --> Menu


' ======== Relationships ========
EscapeRoom o-- Room : contains >
Room o-- Clue : contains >
Room o-- Decoration : contains >
Player "1" -- "0..*" Ticket
Player "1" -- "0..*" Certificate

@enduml